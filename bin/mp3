#!/bin/env bash
# FranklinTech
# Convert videos em mp3

# clear terminal
mkdir $HOME/.MusicDown
clear

printf "Dev: FranklinTech\nTelegram: @FranklinTech"

printf "\n\nScript para converter videos do Youtube para o formato mp3.\n\n"
read -p 'PRESSIONE ENTER PARA CONTINUAR...'

while true ; do
  clear
  printf "MP3 Download\n\n"
  # Menu
  printf "Escolha uma das opções abaixo:\n\n[1] - Criar uma nova pasta\n[2] - Entrar em uma pasta existente\n[3] - Renomear pasta\n[4] - Sair\n\n"

  read OPC
  if [ $OPC == '1' ] || [ $OPC == '01' ] ; then
    clear
    printf "Evite de usar espaços, use (_) underline/underscore para simular espaços.\n\n"
    printf "Qual vai ser o nome da pasta?:\n\n"
    read PASTE_NAME
    printf "\n$PASTE_NAME criada com sucesso!!!" && cd $HOME/.MusicDown && mkdir $PASTE_NAME && cd $HOME/.MusicDown/$PASTE_NAME && ls
    printf "\n\nCole a URL da música aqui:\n\n"
    read URL_MUSIC
    printf "\n\nBaixando a música...\n\n" && youtube-dl --extract-audio --audio-format mp3 $URL_MUSIC
    printf "\n\nListando músicas...\n\n" && ls

  elif [ $OPC == '2' ] || [ $OPC == '02'] ; then
    clear
    cd $HOME/.MusicDown && ls
    printf "\n\nEvite de usar espaços, use (_) underscore/underscore para simular espaços.\n\n"
    printf "Digite o nome da pasta: \n\n"
    read NAME_PASTE
    printf "\nEntrando na pasta: $NAME_PASTE\n\n" && cd $HOME/.MusicDown/$NAME_PASTE && ls
    printf "\n\nCole a URL da música aqui: \n\n"
    read MUSIC_URL
    printf "\n\nBaixando a música...\n\n" && youtube-dl --extract-audio --audio-format mp3 $MUSIC_URL
    
  elif [ $OPC == '3' ] || [ $OPC == '03' ] ; then
    clear
    cd $HOME/.MusicDown && ls
    printf "\n\nDigite o nome da pasta que você quer renomear: \n\n"
    read RENAME
    printf "\n\nAgora digite o nome para a renomeação: \n\n"
    read RENAME1
    printf "\n\nEntrando no DIR\n\n" && cd $HOME/.MusicDown && mv $RENAME $RENAME1
    printf "\n\nListando...\n\n" && ls

  elif [ $OPC == '4' ] || [ $OPC == '04' ] ; then
    clear && exit 0

  else
    clear && read -p 'Opção errada, PRESSIONE PARA CONTINUAR...' && continue
  fi
done
