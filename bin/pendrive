#!/bin/env bash

while true; do
  clear

  # Devices
  printf "Dev: Franklin Souza\n"
  printf "Telegram: @FranklinTech\n\n"
  printf "Pendrive Mount\n\n"

  # Opções
  printf "O que você deseja fazer?:\n\n"
  printf "[1] - Montar pendrive\n"
  printf "[2] - Desmontar pendrive\n"
  printf "[3] - Formatar\n"
  printf "[4] - Listar pastas montadas\n"
  printf "[5] - Sair\n\n"
  read OPC

  # Condições
  if [ $OPC == '1' ];then
    clear
    cd /mnt
    printf "\n\nDigite o nome da pasta para o seu pendrive (Evite espações e acentuações):\n\n"
    read NAME_PENDRIVE
    sudo mkdir $NAME_PENDRIVE
    printf "\n\nOBS: Normalmente é sdb..." && echo && lsblk
    printf "\n\nDigite o tipo do pendrive:\n\n"
    read PENDRIVE_TYPE
    sudo mount /dev/$PENDRIVE_TYPE /mnt/$NAME_PENDRIVE

  elif [ $OPC == '2' ];then
    clear
    cd /mnt && ls
    printf "\n\nDigite o nome da pasta (Pendrive) que você queira desmontar:\n\n"
    read DEL_PASTE
    sudo umount -Rf /mnt/$DEL_PASTE
    sudo rm -rf /mnt/$DEL_PASTE

  elif [ $OPC == '3' ] ; then
    clear
    sudo fdisk -l
    printf "Digite o pendrive aqui:\n\n"
    read PENDRIVE_TYPE1
    sudo mkfs.vfta -I $PENDRIVE_TYPE1

  elif [ $OPC == '4' ];then
    clear
    ls /mnt
    read -p 'PRESS ENTER TO CONTINUE...'

  elif [ $OPC == '5' ];then
    clear && exit 0
  else
    clear && exit 0
  fi
done
